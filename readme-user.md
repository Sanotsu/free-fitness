## 2023-11-30 新的 user and setting 的进度放到这里

### 进度记录

#### 2023-11-30

- 新增单独的用户信息和配置信息相关的 model 和 db 相关内容，并把之前饮食模块的用户相关操作移除，合并到单独的 user 模块来。

#### 2023-12-01

- 完成跟练时的休息间隔时间设置。
- 完成个人配置的体重变化趋势折线图，修改体重和 BMI 的功能。

#### 2023-12-02

- 完成个人配置的体重趋势图 x 轴间距的放大缩小功能，添加了体重记录数据的管理(可删除，按日期范围查询还没写)
- 测试来看 Android9 及以下没法使用 image_gallery_saver 等相关工具库保存图表，所以小于 9 的不显示保存按钮。
- 完成训练日志的报告模块基本结构，初步完成日历显示锻炼历史的页面。
- 完成从训练直接进入跟练完成后记录训练日志(计划中过去的没处理)。

#### 2023-12-04

- 完成从计划某个训练日进入跟练完成后记录训练日志(暂定从计划进入跟练则不传训练编号)。
- **需要日志表的冗余设计**
  - 【待处理】查询训练日志还真不一定有对应数据：计划跟练之后又有修改，导致某些训练、动作都有变化了，那么 searchTrainedLogWithGroupBasic 这里就一定会报错。
    - 暂时有跟练的计划不让修改，(理论上对应的 action list 也不允许再改了)
    - 后续再看如何设计日志表，冗余设计，暂时的日志内容全在表里面，不关联查询其他表，这样其他表计划、训练、动作等都有修改了也不影响日志表。
    - 【饮食记录】也应该类似设置饮食日志表
- 完成运动报告中简单的“总计”和“最近”tabview 的内容。

#### 2023-12-08

- feat:添加了 storage 存放 userId；首次使用 app 提供用户输入称呼；完成新增用户和切换使用者；重构修改用户信息；
- todo:
  - 所有的非基础数据都要限定使用者，及查询的日志等内容全部是当前 storage 的 id。
  - 修改其他表的 contributor 为 userID，并修改类型为 int

#### 2023-12-09

- refactor:重新整理了目前所有的数据库的表和及其栏位，修改对应的类和属性类型，并修正所有使用到的地方。
